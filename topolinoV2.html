<!doctype html>
<html lang="it">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>Topolino 2</title>
  </head>
  <body id="body" >
    <form>
        <div class="form-group">
            <label for="exampleFormControlInput1">Topolino</label>
            <input type="text" class="form-control" id="soggetto" placeholder="SOGGETTO protagonista" value="SOGGETTO" oninput="narrazione()">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Formaggio</label>
            <input type="text" class="form-control" id="obbiettivo" placeholder="OBBIETTIVO da raggiungere" oninput="narrazione()" value="OBBIETTIVO">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Fame</label>
            <input type="text" class="form-control" id="motivazione" placeholder="MOTIVAZIONE che spinge verso l'obbiettivo" oninput="narrazione()" value="MOTIVAZIONE">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Labirinto</label>
            <input type="text" class="form-control" id="contesto" placeholder="CONTESTO in cui si svolge l'azione" oninput="narrazione()" value="CONTESTO">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Strada</label>
            <input type="text" class="form-control" id="comportamento" placeholder="COMPORTAMENTO" oninput="narrazione()" value="COMPORTAMENTO">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Strada OK</label>
            <input type="text" class="form-control" id="adeguato" placeholder="COMPORTAMENTO adeguato" oninput="narrazione()" value="CORRETTO">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Strada KO</label>
            <input type="text" class="form-control" id="inadeguato" placeholder="COMPORTAMENTO inadeguato" oninput="narrazione()" value="SCORRETTO">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Testata</label>
            <input type="text" class="form-control" id="consNegative" placeholder="CONSEGUENZE NEGATIVE del comportamento inadeguato" oninput="narrazione()" value="CONSEGUENZE">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Distanza</label>
            <input type="text" class="form-control" id="contatore" placeholder="" value="3" oninput="narrazione()">
        </div>
    </form>
    
    <div class="container text-center">
        <div class="row align-items-start">
            <div class="btn-group" role="group" aria-label="Basic example">
                <input type="button" onclick="inizio()" value="inizia" class="btn btn-primary"></input>
                <input type="button" onclick="bottoneSx()" id="bottoneSinistro" value="NO" class="btn btn-danger"></input>
                <input type="button" onclick="bottoneDx()" id="bottoneDestro" value="SI" class="btn btn-success"></input>
            </div>
        </div>
      </div>
    <textarea name="" id="myTextarea" rows="15" cols="60" >

    </textarea>
    <script>
        var cont=parseInt(document.getElementById("contatore").value);
        function myFunction(){
            document.getElementById("myTextarea").value+="\n"+cont;
            cont++;
            document.getElementById("myextarea").scrollTop=document.getElementById("myTextarea").scrollHeight;
            document.getElementById("demo").innerHTML=x;
        }
        var contSi=0,contNo=0, Topolino=document.getElementById("soggetto").value, Formaggio=document.getElementById("obbiettivo").value, Fame=document.getElementById("motivazione").value, Labirinto=document.getElementById("contesto").value, Strada=document.getElementById("comportamento").value, Strada_ok=document.getElementById("adeguato").value, Strada_ko=document.getElementById("inadeguato").value, Testata=document.getElementById("consNegative").value, Motivato;
        var cambio=false;

        function popup(pagina){
            window.open(pagina, '', 'width=560,height=390, left=500, top=108, resizable=yes,toolbar=no,scrollbars=no, status=no');
            
        }
        function inizio(){
            document.getElementById("bottoneSinistro").value="NO";
            document.getElementById("bottoneDestro").value="SI";
            document.getElementById("myTextarea").value="";
            cont=parseInt(document.getElementById("contatore").value);
            contSi=0;
            contNo=0;
            document.getElementById("myTextarea").value+="Distanza iniziale dall'obbiettivo = "+cont+"\n";
            document.getElementById("myTextarea").value+=Topolino+" vuoi raggiungere "+Formaggio+"?\n";
        }
        function bottoneSx(){
            document.getElementById("myTextarea").value+="La scelta ti allontana dall'obbiettivo"+"\n";
            cont++;
            document.getElementById("myTextarea").value+="Distanza dall'obbiettivo = "+(cont+1)+"\n";
            
            if(motivato){
                document.getElementById("myTextarea").value+="Mancando "+Fame+" non raggiungerai "+Formaggio+"\n";
                
                if(contNo==parseInt(document.getElementById("contatore").value)*2){
                var pagina="https://www.umanetexpo.net/expo2015Server/UECDL/U-ECDL/img/PaginaTopolinoTontolino.htm";
                popup(pagina);
                }else{
                    contNo++;
                }
            }
            document.getElementById("myTextarea").value+="Che tipo di comportamento scegli?"+"\n";
            document.getElementById("myTextarea").value+=Strada_ok+" o "+Strada_ko+"\n";

        }
        function bottoneDx(){
            cambio=true;
            
            
            if(cambio){
                document.getElementById("bottoneSinistro").value=Strada_ko;
                document.getElementById("bottoneDestro").value=Strada_ok;
            }
            
            if(motivato){
                cont--;
                document.getElementById("myTextarea").value+="Distanza dall'obbiettivo = "+(cont+1)+"\n";
                
                if (contSi==parseInt(document.getElementById("contatore").value)){
                var pagina="https://www.umanetexpo.net/expo2015Server/UECDL/U-ECDL/img/PaginaTopolinoVolpino.htm"
                popup(pagina);
                    }else{
                    contSi++;
                    document.getElementById("myTextarea").value+="La scelta ti avvicina all'obbiettivo"+"\n";
                    }
            }
            document.getElementById("myTextarea").value+="Che tipo di comportamento scegli?"+"\n";
            document.getElementById("myTextarea").value+=Strada_ok+" o "+Strada_ko+"\n";
            
            
        }
        
        if(document.getElementById("bottoneSinistro").clicked){
            motivato=false;
        }else{
            motivato=true;
        }
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>